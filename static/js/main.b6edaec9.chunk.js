(this.webpackJsonpmysite=this.webpackJsonpmysite||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(0),o=n(1),r=n(6),s=n.n(r),c=(n(12),n(4));n(13);function l(e){return Object(i.jsx)("ul",{className:"menu",role:"menu",children:e.children})}n(14);function a(e){var t=Object(o.useState)(!1),n=Object(c.a)(t,2),r=n[0],s=n[1],l=function(){return s(!1)},a=Object(i.jsxs)("li",{onMouseOver:function(){e.onClick&&e.onClick(e.id),s(!r)},onMouseOut:l,className:"menu-item ".concat(r?"menu-item-active":""),children:[Object(i.jsxs)("span",{children:[Object(i.jsx)("i",{className:e.icon?"icon fa ".concat(e.icon):""}),Object(i.jsx)("span",{className:"red",children:e.label[0]}),e.label.substring(1)]}),Object(i.jsx)("span",{onClick:l,className:"".concat(r?"":"hidden"),children:e.children})]}),h=Object(i.jsx)("li",{className:"placeholder",children:e.children});return e.placeholder?h:a}a.defaultProps={icon:"",label:"",placeholder:!1};n(15);function h(e){var t=Object(i.jsx)("ul",{className:"menu-popup",children:Object(i.jsx)("div",{className:"menu-popup-container",children:e.children})});return e.children?t:""}n(16);function d(e){return Object(i.jsx)("li",{className:"menu-popup-item",onClick:function(){e.onItemClick&&e.onItemClick(e.id)},children:Object(i.jsxs)("span",{children:[Object(i.jsx)("span",{className:"red",children:e.label[0]}),e.label.substring(1)]})})}n(17);function u(e){return Object(i.jsx)("li",{className:"menu-popup-item",onClick:function(){e.onItemClick&&e.onItemClick(e.id)},children:Object(i.jsxs)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",children:[Object(i.jsx)("i",{className:"fa ".concat(e.icon)}),Object(i.jsxs)("span",{className:"red",children:[" ",e.label[0]]}),e.label.substring(1)]})})}function f(){var e=new Date;return{hour:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds(),ampm:e.getHours()>0&&e.getHours()<13?"AM":"PM"}}function m(e){return e<10?"0".concat(e):e}function b(e){var t=Object(o.useState)(f()),n=Object(c.a)(t,2),r=n[0],s=n[1],l=function(){return s(f())};return Object(o.useEffect)((function(){var e=setInterval(l,1e3);return function(){clearInterval(e)}}),[]),Object(i.jsx)("span",{children:"".concat(m(r.hour),":").concat(m(r.minutes),":").concat(m(r.seconds)," ").concat(r.ampm)})}u.defaultProps={link:"",icon:""};n(18);function v(e){var t=Object(o.useRef)(),n=Object(o.useState)({x:0,y:0}),r=Object(c.a)(n,2),s=r[0],l=r[1],a=Object(o.useState)(!1),h=Object(c.a)(a,2),d=h[0],u=h[1];return Object(o.useEffect)((function(){var e=Math.abs(window.innerWidth/2-t.current.offsetWidth/2),n=Math.abs(window.innerHeight/2-t.current.offsetHeight/2);l({x:e,y:n})}),[]),Object(o.useEffect)((function(){function e(e){var n=e.screenX-d.dragX,i=window.innerWidth-t.current.offsetWidth,o=e.screenY-d.dragY,r=window.innerHeight-t.current.offsetHeight;n>0&&n<i&&o>25&&o<r?l({x:n,y:o}):u(!1)}return d&&window.addEventListener("mousemove",e),function(){window.removeEventListener("mousemove",e)}}),[d]),Object(i.jsx)("div",{className:d?"window dragging":"window",ref:t,style:function(){var t={top:s.y,left:s.x};return e.width&&(t.width=e.width),t}(),children:Object(i.jsxs)("div",{className:"border",children:[Object(i.jsx)("div",{className:"window-title",onMouseDown:function(e){e.preventDefault(),u({dragX:e.screenX-t.current.offsetLeft,dragY:e.screenY-t.current.offsetTop})},onMouseUp:function(e){e.preventDefault(),u(!1)},children:Object(i.jsx)("span",{className:"title",children:e.title})}),Object(i.jsx)("div",{className:"window-body",children:e.children})]})})}v.defaultProps={title:""};n(19);function j(e){return Object(i.jsx)("span",{onClick:e.onClick,className:"button",children:Object(i.jsx)("span",{className:"label",children:e.label})})}n(20);function k(e){return Object(i.jsxs)(v,{title:e.title,width:e.width,children:[Object(i.jsx)("div",{className:"main text-justify",children:e.children}),Object(i.jsx)("div",{className:"text-center bottom-button",children:Object(i.jsx)(j,{label:e.buttonLabel,onClick:e.onButtonClick})})]})}function g(e){return Object(i.jsxs)(k,{title:"about",onButtonClick:e.onButtonClick,children:[Object(i.jsx)("p",{className:"box",children:"I'm always reinventing the wheel because I think it's the best way to learn, in real projects I usually (almost) try to use some Framework, but I'm not a '(Put Here your Framework) Developer' I like to learn from the ground up, I like to build things from scratch, especially if it's something that I haven't done before or I don't know how to do it, because I think it is the best way to learn."}),Object(i.jsxs)("p",{className:"box",children:["About this weird design: I tried to mimic the old ",Object(i.jsx)("a",{href:"https://en.wikipedia.org/wiki/MS-DOS_Editor",target:"_blank",rel:"noopener noreferrer",children:"MS-DOS Edit style"}),". Actually it is a mix between the Old MS-DOS Style and the old Borland's Turbo C Style."]}),Object(i.jsxs)("p",{className:"box",children:["Feel free to ",Object(i.jsx)("a",{href:"https://github.com/nullxor/info-site",target:"_blank",rel:"noopener noreferrer",children:"send me a Pull Request"})," for any typo."]})]})}function w(e){return Object(i.jsxs)(k,{title:"side projects",onButtonClick:e.onButtonClick,children:["Some of the side stuff that I've worked or I'm planning to work on (No particular order). Maybe you'd want to work on it too :)",Object(i.jsxs)("ul",{className:"list",children:[Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:"https://github.com/nullxor/tetris-js",target:"_blank",rel:"noopener noreferrer",children:"Tetris game"})}),Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:"https://github.com/nullxor/path-finding-ts",target:"_blank",rel:"noopener noreferrer",children:"Path Finding Algorithms in TS"})}),Object(i.jsx)("li",{children:"Snake game (Probably with vanilla JavaScript ES6/ES7)"}),Object(i.jsx)("li",{children:"Tiny bootloader or a tiny Pet Operating System (in C or maybe ASM)"}),Object(i.jsx)("li",{children:"Image to ASCII converter"}),Object(i.jsx)("li",{children:"Any simple progamming language with a compiler or transpiler (Probably will compile to WASM)"}),Object(i.jsx)("li",{children:"A template engine (Likely to be in Golang)"}),Object(i.jsx)("li",{children:"Build an emulator (MIPS or Atari 2600 emulator, I'll use Golang or C# for this)"}),Object(i.jsx)("li",{children:"Try to code a basic ACID Database with simple SQL Support (Probably in JavaScript or maybe C# or Golang)"}),Object(i.jsx)("li",{children:"Anything related to blockchain (I have to learn a lot about this)"}),Object(i.jsx)("li",{children:"Some kind of IA to play the previous games that I build, Snake or Tetris, maybe a Neural Network (I have to learn a lot about this)"})]})]})}k.defaultProps={title:"",buttonLabel:"OK",onButtonClick:function(){}};var y=n(2),p=n(3),x=function(){function e(t,n){Object(y.a)(this,e),this.rows=t,this.cols=n,this.field=[];for(var i=0;i<this.rows;i++)this.field.push(new Array(this.cols))}return Object(p.a)(e,[{key:"setBlock",value:function(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i;this.field[t][e]?(this.field[t][e].isFull=n,this.field[t][e].color=i,this.field[t][e].borderColor=o):this.field[t][e]={isFull:n,color:i,borderColor:o}}},{key:"getBlock",value:function(e,t){return this.field[t][e]}},{key:"isFullBlock",value:function(e,t){return this.field[t][e]&&this.field[t][e].isFull}},{key:"removeBlock",value:function(e,t){this.field[t][e]=!1}},{key:"getRow",value:function(e){return this.field[e]}},{key:"rowHasAnyFull",value:function(e){for(var t=0;t<this.field[e].length;t++)if(this.field[e][t].isFull)return!0;return!1}},{key:"isFullRow",value:function(e){for(var t=0;t<this.cols;t++)if(!this.field[e][t].isFull)return!1;return!0}}]),e}(),O=function(){function e(t,n,i,o){Object(y.a)(this,e),this.canvas=t,this.ctx=t.getContext("2d"),this.field=n,this.blockSize=i,this.blankColor=o}return Object(p.a)(e,[{key:"block",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n,o=e*this.blockSize,r=t*this.blockSize;this.ctx.fillStyle=n,this.ctx.fillRect(o,r,this.blockSize,this.blockSize),this.ctx.strokeStyle=i,this.ctx.strokeRect(o,r,this.blockSize,this.blockSize),this.field.setBlock(e,t,n!==this.blankColor,n,i)}},{key:"grid",value:function(e,t,n,i){for(var o=0;o<e;o++)for(var r=0;r<t;r++)this.block(r,o,n,i)}},{key:"reset",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"drawTetromino",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.color,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.borderColor,i=e.getCurrentMatrix(),o=0;o<i.length;o++)for(var r=0;r<i.length;r++)if(i[o][r]){var s=e.getX()+r,c=e.getY()+o;this.block(s,c,t,n)}}},{key:"moveRow",value:function(e,t){for(var n=this.field.getRow(e).length,i=0;i<n;i++){var o=this.field.getBlock(i,e);o&&(this.field.setBlock(i,t,o.isFull,o.color,o.borderColor),this.block(i,t,o.color,o.borderColor))}}},{key:"moveAllRows",value:function(e,t){for(var n=0,i=e;i>=0;i--)this.moveRow(i,t-n++),this.removeRow(i)}},{key:"removeRow",value:function(e){for(var t=this.field.getRow(e).length,n=0;n<t;n++)this.field.removeBlock(n,e),this.block(n,e,this.blankColor,this.blankColor)}}]),e}(),C=function(){function e(t,n,i,o,r){Object(y.a)(this,e);var s=[t,n,i,o,r];this.type=s[0],this.x=s[1],this.y=s[2],this.color=s[3],this.borderColor=s[4],this.rotation=0,this.locked=!1}return Object(p.a)(e,[{key:"getX",value:function(){return this.x}},{key:"getY",value:function(){return this.y}},{key:"getBottomY",value:function(){for(var e=this.getCurrentMatrix(),t=e.length-1;t>=0;t--)for(var n=0;n<e.length;n++)if(e[t][n])return this.y+t}},{key:"getCurrentMatrix",value:function(){return this.type[this.rotation]}},{key:"isLocked",value:function(){return this.locked}},{key:"lock",value:function(){this.locked=!0}},{key:"rotate",value:function(){this.locked||this.setRotation(this.rotation+1)}},{key:"getRotation",value:function(){return this.rotation}},{key:"setRotation",value:function(e){this.rotation=e%this.type.length}},{key:"moveLeft",value:function(){this.locked||this.x--}},{key:"moveRight",value:function(){this.locked||this.x++}},{key:"moveDown",value:function(){this.locked||this.y++}}]),e}(),T={blockSize:15,rows:20,columns:10,blankColor:"#000",borderColor:"#000",scoreMoveDown:1,scoreRemoveRow:5,tetrominoes:[[[[1,1,1,1],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[1,0,0,0],[1,0,0,0],[1,0,0,0],[1,0,0,0]]],[[[0,1,1],[1,1,0],[0,0,0]],[[1,0,0],[1,1,0],[0,1,0]]],[[[1,1,0],[0,1,1],[0,0,0]],[[0,1,0],[1,1,0],[1,0,0]]],[[[0,1,0],[1,1,1],[0,0,0]],[[0,1,0],[0,1,1],[0,1,0]],[[1,1,1],[0,1,0],[0,0,0]],[[0,1,0],[1,1,0],[0,1,0]]],[[[1,1,0],[1,1,0],[0,0,0]]],[[[1,1,1],[1,0,0],[0,0,0]],[[1,1,0],[0,1,0],[0,1,0]],[[0,0,1],[1,1,1],[0,0,0]],[[1,0,0],[1,0,0],[1,1,0]]],[[[1,0,0],[1,1,1],[0,0,0]],[[1,1,0],[1,0,0],[1,0,0]],[[1,1,1],[0,0,1],[0,0,0]],[[0,1,0],[0,1,0],[1,1,0]]]],tetrominoesColor:["#d11","#1d1","#11f","#dd1","#d1d","#1cd","#fdd"]},S=1,I=2,R=3,N=4,E=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:T;Object(y.a)(this,e),this.onUpdateScore=function(){},this.onGameOver=function(){},this.onElapsedSecond=function(){},this.onRandomTetromino=function(){},this.field=n,this.drawer=t,this.window=i,this.config=o,this.tetrominoes=o.tetrominoes,this.score=0,this.elapsedSeconds=0,this.gameOver=!1}return Object(p.a)(e,[{key:"start",value:function(){this.score=this.elapsedSeconds=0,this.drawer.grid(this.config.rows,this.config.columns,this.config.blankColor,this.config.borderColor),this.setRandomTetromino(),this.drawer.drawTetromino(this.currentTetromino)}},{key:"setRandomTetromino",value:function(){this.currentTetromino=this.nextTetromino||this.getRandomTetromino(),this.nextTetromino=this.getRandomTetromino(),this.currentTetromino.x=this.config.columns/2-1,this.onRandomTetromino(this.nextTetromino)}},{key:"getRandomTetromino",value:function(){var e=this.config.tetrominoesColor,t=Math.floor(Math.random()*e.length),n=Math.floor(Math.random()*this.tetrominoes.length);return new C(this.tetrominoes[n],0,0,e[t],this.config.borderColor)}},{key:"isThereCollision",value:function(e,t){for(var n=this.currentTetromino.getCurrentMatrix(),i=n.length-1;i>=0;i--)for(var o=n.length-1;o>=0;o--)if(n[o][i]){var r=this.currentTetromino.getX()+i+e,s=this.currentTetromino.getY()+o+t;if(r<0)return S;if(r>=this.config.columns)return I;if(s>=this.config.rows)return R;if(this.field.isFullBlock(r,s))return N}return 0}},{key:"setListeners",value:function(){this.keyListener=this.keyListener.bind(this),this.stepListener=this.stepListener.bind(this),this.elapsedSecondsListener=this.elapsedSecondsListener.bind(this),this.window.addEventListener("keydown",this.keyListener),this.intervalId=setInterval(this.stepListener,1e3),this.elapsedSecondsId=setInterval(this.elapsedSecondsListener,1e3)}},{key:"stepListener",value:function(){this.checkDown()}},{key:"elapsedSecondsListener",value:function(){this.elapsedSeconds++,this.onElapsedSecond(this.elapsedSeconds)}},{key:"keyListener",value:function(e){if(!(-1!==[37,38,39,40].indexOf(e.keyCode))||this.currentTetromino.isLocked())return!1;if(this.drawer.drawTetromino(this.currentTetromino,this.config.blankColor),37===e.keyCode&&(this.isThereCollision(-1,0)||this.currentTetromino.moveLeft()),38===e.keyCode){var t=this.currentTetromino.getRotation();this.currentTetromino.rotate(),this.isThereCollision(0,0)&&this.currentTetromino.setRotation(t)}39===e.keyCode&&(this.isThereCollision(1,0)||this.currentTetromino.moveRight()),40!==e.keyCode?this.drawer.drawTetromino(this.currentTetromino):this.checkDown()}},{key:"checkDown",value:function(){if(this.drawer.drawTetromino(this.currentTetromino,this.config.blankColor),this.isThereCollision(0,1)){this.drawer.drawTetromino(this.currentTetromino),this.currentTetromino.lock();for(var e=this.currentTetromino.getBottomY(),t=0;e>=this.currentTetromino.getY();)this.field.isFullRow(e)?(t++,this.drawer.moveAllRows(e-1,e)):e--;this.score+=this.config.scoreRemoveRow*t,this.onUpdateScore(this.score),this.setRandomTetromino(),this.isThereCollision(0,1)&&this.setGameOver()}else this.score+=this.config.scoreMoveDown,this.currentTetromino.moveDown();this.drawer.drawTetromino(this.currentTetromino)}},{key:"getScore",value:function(){return this.score}},{key:"getElapsedSeconds",value:function(){return this.elapsedSeconds}},{key:"getNextTetromino",value:function(){return this.nextTetromino}},{key:"isGameOver",value:function(){return this.gameOver}},{key:"setGameOver",value:function(){this.window.removeEventListener("keydown",this.keyListener),clearInterval(this.intervalId),clearInterval(this.elapsedSecondsId),this.gameOver=!0,this.onGameOver()}}]),e}(),L=function(){function e(t,n){var i=this;Object(y.a)(this,e),t.innerHTML='<main style="clear:both">\n  <section style="text-align:center;">\n    <canvas id="_tetris" width="150" height="300"></canvas>\n  </section>\n  <section id="_gameover" style="text-align:center;">\n    <button style="padding: 1% 2% 1% 2%;" id="_newGame">Restart</button>\n  </section>\n  <section style="text-align:center;padding:1% 10% 1% 10%;">\n    <div style="padding:1%;clear:both;font-size:1em;margin-bottom:2%;overflow:hidden">\n      <div style="float:left;">SCORE</div>\n      <div style="float:right;" id="_score">0</div>\n    </div>\n    <div style="padding:1%;clear:both;font-size:1em;margin-bottom:2%;overflow:hidden;">\n      <div style="float:left;">TIME</div>\n      <div style="float:right;" id="_time">0</div>\n    </div>\n    <div style="clear:both;font-size:1em;overflow:hidden;">\n      <canvas style="margin-top:1%;" id="_nextPiece" width="60" height="30"></canvas>\n    </div>\n  </section>\n</main>',this.container=t,this.config=n,this.scoreElement=document.getElementById("_score"),this.timeElement=document.getElementById("_time"),this.field=new x(this.config.rows,this.config.columns),this.drawer=new O(document.getElementById("_tetris"),this.field,this.config.blockSize,this.config.blankColor),this.tetris=new E(this.drawer,this.field,window,this.config),this.fieldNextPiece=new x(5,5),this.drawerNextPiece=new O(document.getElementById("_nextPiece"),this.fieldNextPiece,15,this.config.blankColor),this.tetris.onGameOver=this.onGameOver.bind(this),this.tetris.onElapsedSecond=this.onElapsedSecond.bind(this),this.tetris.onRandomTetromino=this.onRandomTetromino.bind(this),this.newGame=this.newGame.bind(this),this.destroyGame=this.destroyGame.bind(this),document.getElementById("_newGame").addEventListener("click",this.newGame),this.tetris.onUpdateScore=function(e){i.scoreElement.innerText=e}}return Object(p.a)(e,[{key:"onGameOver",value:function(){}},{key:"onElapsedSecond",value:function(e){this.timeElement.innerText=e}},{key:"onRandomTetromino",value:function(e){this.drawerNextPiece.reset(),this.drawerNextPiece.drawTetromino(e)}},{key:"newGame",value:function(){this.tetris.setGameOver(),this.scoreElement.innerText=this.timeElement.innerText=0,this.tetris.start(),this.tetris.setListeners()}},{key:"destroyGame",value:function(){this.tetris.setGameOver(),this.container.innerHTML=""}}]),e}();n(21);function B(){var e=Object(o.useRef)();return Object(o.useEffect)((function(){var t=new L(e.current,T);return t.newGame(),function(){t.destroyGame()}})),Object(i.jsx)("div",{className:"tetris",children:Object(i.jsx)("div",{ref:e})})}function M(e){return console.log("Rendering Tetris"),Object(i.jsx)("div",{className:"tetris",children:Object(i.jsx)(k,{title:"tetris",width:"220px",onButtonClick:e.onButtonClick,children:Object(i.jsx)(B,{})})})}n(22);var G=function(){var e,t=Object(o.useState)("tetris"),n=Object(c.a)(t,2),r=n[0],s=n[1],f=function(){return s("")};return Object(i.jsxs)("div",{className:"fh",children:[Object(i.jsxs)(l,{children:[Object(i.jsx)(a,{icon:"fa fa-bars",children:Object(i.jsx)(h,{children:Object(i.jsx)(d,{id:"tetris",label:"Play Tetris",onItemClick:function(){return s("tetris")}})})}),Object(i.jsx)(a,{label:"File",children:Object(i.jsxs)(h,{children:[Object(i.jsx)(d,{id:"about",label:"About Me",onItemClick:function(){return s("about")}}),Object(i.jsx)(d,{id:"projects",label:"Side projects",onItemClick:function(){return s("projects")}})]})}),Object(i.jsx)(a,{label:"Social",children:Object(i.jsxs)(h,{children:[Object(i.jsx)(u,{label:"Github",link:"https://github.com/nullxor",icon:"fa-github"}),Object(i.jsx)(u,{label:"LinkedIn",link:"https://www.linkedin.com/in/olfran/",icon:"fa-linkedin"}),Object(i.jsx)(u,{label:"Twitter",link:"https://twitter.com/nullxor",icon:"fa-twitter"})]})}),Object(i.jsx)(a,{placeholder:"true",children:Object(i.jsx)(b,{})})]}),(e=r,"about"===e?Object(i.jsx)(g,{onButtonClick:f}):"projects"===e?Object(i.jsx)(w,{onButtonClick:f}):"tetris"===e?Object(i.jsx)(M,{onButtonClick:f}):null)]})},P=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function A(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(Object(i.jsx)(G,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");P?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):A(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):A(e)}))}}()}],[[23,1,2]]]);
//# sourceMappingURL=main.b6edaec9.chunk.js.map